{"version":3,"file":"static/js/248.56ee28d5.chunk.js","mappings":"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","sources":["features/leads/DataGuru/TambahGuru.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Api from '../../../api';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-hot-toast';\n\nconst token = Cookies.get('token');\n\nconst AddTeacherPage = () => {\n    const navigate = useNavigate();\n    const [jurusan, setJurusan] = useState([]);\n    const [formData, setFormData] = useState({\n        username: \"\",\n        name: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n        roles: \"guru\", \n        no_hp: \"\",\n        departemen_id: \"\",\n    });\n\n    const handleChange = (e) => {\n        const { name, value, type, files } = e.target;\n        setFormData((prevData) => ({\n            ...prevData,\n            [name]: type === 'file' ? files[0] : value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const data = new FormData();\n            Object.keys(formData).forEach(key => {\n                data.append(key, formData[key]);\n            });\n    \n            // Log to check if name is being captured correctly\n            console.log(\"Form Data:\", formData);\n    \n            await Api.post('admin/users', data, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                    'Content-Type': 'multipart/form-data',\n                },\n            });\n    \n            toast.success(\"Teacher added successfully!\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            navigate('/app/data/guru');\n        } catch (error) {\n            if (error.response) {\n                const errorMessages = error.response.data.errors;\n                console.error(\"Error response data:\", error.response.data);\n                if (errorMessages) {\n                    toast.error(`Failed to add teacher: ${Object.values(errorMessages)[0][0]}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                } else {\n                    toast.error(`Failed to add teacher: ${error.response.data.message || 'Please check the form fields.'}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                }\n            } else {\n                toast.error(\"Failed to add teacher.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n            }\n        }\n    };\n    \n\n    useEffect(() => {\n        Api.get(\"admin/departemen\", {\n            headers: { Authorization: `Bearer ${token}` }\n        })\n        .then(response => {\n            const data = response.data.data.data || []; // Ensure the data is an array\n            setJurusan(Array.isArray(data) ? data : []);\n\n        })\n      \n    }, [token]);\n\n    return (\n        <div className=\"container mx-auto my-10 px-4\">\n            <div className=\"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500\">\n                <h1 className=\"text-3xl font-bold text-center mb-4\">Tambah Data Guru</h1>\n                <p className=\"text-center border-b pb-4 mb-4\">Silakan isi form di bawah!</p>\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Nama</label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            value={formData.name}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Username</label>\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            value={formData.username}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Password</label>\n                        <input\n                            type=\"text\"\n                            name=\"password\"\n                            value={formData.password}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Password Confirmation</label>\n                        <input\n                            type=\"text\"\n                            name=\"password_confirmation\"\n                            value={formData.password_confirmation}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">No Telephone</label>\n                        <input\n                            type=\"text\"\n                            name=\"no_hp\"\n                            value={formData.no_hp}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Jurusan</label>\n                        <select\n                            name=\"departemen_id\"\n                            value={formData.departemen_id}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        >\n                            <option value=\"\">Pilih Jurusan</option>\n                            {jurusan.map((jurusan) => (\n                                <option key={jurusan.id} value={jurusan.id}>\n                                    {jurusan.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div className=\"flex justify-between gap-2\">\n                        <button\n                            type=\"submit\"\n                            className=\"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg\"\n                        >\n                            Save\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg\"\n                            onClick={() => navigate('/app/data/guru')}\n                        >\n                            Cancel\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default AddTeacherPage;\n"],"names":["token","Cookies","get","AddTeacherPage","navigate","useNavigate","jurusan","setJurusan","useState","formData","setFormData","username","name","password","password_confirmation","roles","no_hp","departemen_id","handleChange","e","value","type","files","target","prevData","useEffect","Api","headers","Authorization","then","response","data","Array","isArray","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","FormData","Object","keys","forEach","key","append","console","log","post","toast","success","position","duration","error","errorMessages","errors","values","message","onChange","required","map","id","onClick"],"sourceRoot":""}