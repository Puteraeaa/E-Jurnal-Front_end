"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[760],{6709:(e,s,a)=>{a.d(s,{A:()=>i});var t=a(201),r=a(896);const o=t.A.create({baseURL:"https://api.jurnal.pplgsmkn1ciomas.my.id/api",headers:{Accept:"application/json","Content-Type":"application/json"}});let n=0;o.interceptors.request.use((e=>(n++,console.log(`Total API requests: ${n}`),e))),o.interceptors.response.use((function(e){return e}),(function(e){if(401===e.response.status)r.A.remove("token"),r.A.remove("user"),r.A.remove("permissions"),window.location="/";else{if(403!==e.response.status)return Promise.reject(e);window.location="/app/blank"}}));const i=o},6438:(e,s,a)=>{a.d(s,{A:()=>u});var t=a(7565),r=a(1030),o=a(896),n=a(1918),i=a(6709);const l=a.p+"static/media/smk.dd9ac09f254833d1ee62.png",d=a.p+"static/media/back.22d77e630d7f9841cef5.jpg";var c=a(7929);const u=function(){const[e,s]=(0,t.useState)(""),[a,u]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),g=(0,r.Zp)();return(0,t.useEffect)((()=>{o.A.get("token")&&g("/app/dashboard")}),[g]),o.A.get("token")?(g("/app/dashboard"),null):(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center p-4",style:{backgroundImage:`url(${d})`},children:(0,c.jsx)("div",{className:"bg-white bg-opacity-90 rounded-lg shadow-lg overflow-hidden w-full max-w-md",children:(0,c.jsxs)("div",{className:"p-6 space-y-6",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("img",{src:l,alt:"SMKN 1 Ciomas Logo",className:"w-24 mx-auto"}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mt-4",children:"E-Jurnal SMKN 1 Ciomas"}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Sistem Digital untuk Praktik Kerja Lapangan"})]}),(0,c.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),navigator.onLine){m(!0);try{const s=await i.A.post("/login",{name:e,password:a});200===s.status?(o.A.set("token",s.data.token),o.A.set("user",JSON.stringify(s.data.user)),o.A.set("permissions",JSON.stringify(s.data.permissions)),n.Ay.success("Login Berhasil!",{position:"top-right",autoClose:4e3}),g("/app/dashboard")):n.Ay.error("Status respons tidak terduga: "+s.status,{position:"top-right",autoClose:4e3})}catch(l){var t,r;const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Terjadi kesalahan";console.error("Error Response:",e),n.Ay.error(e,{position:"top-right",autoClose:4e3})}finally{m(!1)}}else n.Ay.error("Tidak ada koneksi internet. Periksa jaringan Anda dan coba lagi.",{position:"top-right",autoClose:4e3})},children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),(0,c.jsx)("input",{type:"text",id:"username",value:e,onChange:e=>s(e.target.value),placeholder:"Masukkan username",className:"w-full mt-2 p-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 focus:border-blue-500"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,c.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>u(e.target.value),placeholder:"Masukkan password",className:"w-full mt-2 p-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-300 focus:border-blue-500"})]})]}),(0,c.jsx)("button",{type:"submit",className:"w-full mt-6 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-500 focus:ring focus:ring-blue-300",disabled:p,children:"Login"})]})]})})})}},786:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});a(7565);var t=a(6438),r=a(7929);const o=function(){return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(t.A,{})})}}}]);
//# sourceMappingURL=760.d55f92b7.chunk.js.map