"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[369],{6369:(e,a,r)=>{r.r(a),r.d(a,{default:()=>i});var t=r(7565),s=r(1030),o=r(6709),n=r(896),d=r(1918),l=r(7929);const u=n.A.get("token"),i=()=>{const e=(0,s.Zp)(),{id:a}=(0,s.g)(),[r,n]=(0,t.useState)([]),[i,c]=(0,t.useState)({username:"",name:"",user_id:"",no_hp:"",departemen_id:"",roles:"guru"}),p=e=>{const{name:a,value:r,type:t,files:s}=e.target;c((e=>({...e,[a]:"file"===t?s[0]:r})))};return(0,t.useEffect)((()=>{(async()=>{try{const e=await o.A.get(`admin/users/${a}`,{headers:{Authorization:`Bearer ${u}`}}),r=e.data.data.teacher,t=e.data.data.name;console.log(r),c({username:t||"",name:r.name||"",user_id:r.user_id||"",no_hp:r.no_hp||"",departemen_id:r.departemen_id||"",roles:"guru"})}catch(e){d.oR.error("Failed to load student data.",{position:"top-right",duration:4e3})}})()}),[a]),(0,t.useEffect)((()=>{o.A.get("admin/departemen",{headers:{Authorization:`Bearer ${u}`}}).then((e=>{const a=e.data.data.data||[];n(Array.isArray(a)?a:[])})).catch((e=>{}))}),[]),(0,l.jsx)("div",{className:"container mx-auto my-10 px-4",children:(0,l.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Edit Data guru"}),(0,l.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Silakan update form di bawah!"}),(0,l.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{await o.A.put(`admin/users/${a}`,i,{headers:{Authorization:`Bearer ${u}`}}),d.oR.success("Lead updated successfully!",{position:"top-right",duration:4e3}),e("/app/data/guru")}catch(t){if(t.response){const e=t.response.data.errors;if(console.error("Error response data:",t.response.data),e){for(const[a,r]of Object.entries(e));d.oR.error(`Failed to update lead: ${Object.values(e)[0][0]}`,{position:"top-right",duration:4e3})}else d.oR.error(`Failed to update lead: ${t.response.data.message||"Please check the form fields."}`,{position:"top-right",duration:4e3})}else d.oR.error("Failed to update lead.",{position:"top-right",duration:4e3})}},children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Username"}),(0,l.jsx)("input",{type:"text",name:"username",value:i.username,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Nama"}),(0,l.jsx)("input",{type:"text",name:"name",value:i.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"No Telephone"}),(0,l.jsx)("input",{type:"text",name:"no_hp",value:i.no_hp,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Jurusan"}),(0,l.jsxs)("select",{name:"departemen_id",value:i.departemen_id,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Pilih Jurusan"}),r.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,l.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,l.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg",children:"Save"}),(0,l.jsx)("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg",onClick:()=>e("/app/data/guru"),children:"Cancel"})]})]})]})})}}}]);
//# sourceMappingURL=369.417047db.chunk.js.map