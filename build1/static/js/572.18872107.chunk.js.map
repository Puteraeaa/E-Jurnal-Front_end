{"version":3,"file":"static/js/572.18872107.chunk.js","mappings":"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","sources":["features/leads/DataOrangTua/TambahOrangTua.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport Api from '../../../api';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-hot-toast';\n\nconst AddParentPage = () => {\n    const navigate = useNavigate();\n    const [formData, setFormData] = useState({\n        roles: \"orang tua\",\n        password: \"\",\n        password_confirmation: \"\",\n        name: \"\",\n        gender: \"\",\n        alamat: \"\",\n        occupation: \"\",\n        phoneNumber: \"\",\n    });\n\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleChange = (e) => {\n        const { name, value, type, files } = e.target;\n        setFormData((prevData) => ({\n            ...prevData,\n            [name]: type === 'file' ? files[0] : value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        // Check if passwords match\n        if (formData.password !== formData.password_confirmation) {\n            toast.error(\"Password and confirmation do not match.\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            const token = Cookies.get('token');\n            if (!token) {\n                toast.error(\"Authentication token not found.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n                return;\n            }\n\n            await Api.post('admin/users', formData, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n\n            toast.success(\"Parent data added successfully!\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            navigate('/app/data/orangtua');\n        } catch (error) {\n            if (error.response) {\n                const errorMessages = error.response.data.errors;\n                console.error(\"Error response data:\", error.response.data);\n                if (errorMessages) {\n                    for (const [field, messages] of Object.entries(errorMessages)) {\n                        toast.error(`Error in ${field}: ${messages.join(', ')}`, {\n                            position: \"top-right\",\n                            duration: 4000,\n                        });\n                    }\n                } else {\n                    toast.error(`Failed to add parent data: ${error.response.data.message || 'Please check the form fields.'}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                }\n            } else {\n                toast.error(\"Failed to add parent data.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n            }\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    return (\n        <div className=\"container mx-auto my-10 px-4\">\n            <div className=\"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500\">\n                <h1 className=\"text-3xl font-bold text-center mb-4\">Tambah Data Orang Tua</h1>\n                <p className=\"text-center border-b pb-4 mb-4\">Silakan isi form di bawah untuk menambah data orang tua!</p>\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Nama Orang Tua</label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            value={formData.name}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Password</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            value={formData.password}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Konfirmasi Password</label>\n                        <input\n                            type=\"password\"\n                            name=\"password_confirmation\"\n                            value={formData.password_confirmation}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Jenis Kelamin</label>\n                        <select\n                            name=\"gender\"\n                            value={formData.gender}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        >\n                            <option value=\"\">Pilih Jenis Kelamin</option>\n                            <option value=\"Laki-laki\">Laki-laki</option>\n                            <option value=\"Perempuan\">Perempuan</option>\n                        </select>\n                    </div>\n\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Alamat</label>\n                        <textarea\n                            name=\"alamat\"\n                            value={formData.alamat}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            rows=\"4\"\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Pekerjaan</label>\n                        <input\n                            type=\"text\"\n                            name=\"occupation\"\n                            value={formData.occupation}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Nomor Telepon</label>\n                        <input\n                            type=\"text\"\n                            name=\"phoneNumber\"\n                            value={formData.phoneNumber}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        />\n                    </div>\n\n                    <div className=\"flex justify-between gap-2\">\n                        <button\n                            type=\"submit\"\n                            className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded\"\n                            disabled={isSubmitting}\n                        >\n                            {isSubmitting ? \"Menyimpan...\" : \"Simpan\"}\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg\"\n                            onClick={() => navigate('/app/data/orangtua')}\n                        >\n                            Cancel\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default AddParentPage;\n"],"names":["AddParentPage","navigate","useNavigate","formData","setFormData","useState","roles","password","password_confirmation","name","gender","alamat","occupation","phoneNumber","isSubmitting","setIsSubmitting","handleChange","e","value","type","files","target","prevData","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","token","Cookies","get","toast","error","position","duration","Api","post","headers","Authorization","success","response","errorMessages","data","errors","console","field","messages","Object","entries","join","message","onChange","required","rows","disabled","onClick"],"sourceRoot":""}