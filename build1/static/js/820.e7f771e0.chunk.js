"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[820],{4179:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(7929);const l=function(e){let{styleClass:a,children:t}=e;return(0,s.jsx)("div",{className:`text-xl font-semibold ${a}`,children:t})};const n=function(e){let{title:a,children:t,topMargin:n,TopSideButtons:r}=e;return(0,s.jsxs)("div",{className:"card w-full p-6 bg-base-100 shadow-xl "+(n||"mt-6"),children:[(0,s.jsxs)(l,{styleClass:r?"inline-block":"",children:[a,r&&(0,s.jsx)("div",{className:"inline-block float-right",children:r})]}),(0,s.jsx)("div",{className:"divider mt-2"}),(0,s.jsx)("div",{className:"h-full w-full pb-6 bg-base-100",children:t})]})}},9820:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var s=t(7565),l=t(3292),n=t(4963),r=t(477),o=t(4179),d=t(645),i=t(6142),c=t(4424),m=t(19),u=t(7929);const h=e=>{let{lead:a,show:t,onClose:s}=e;const n=(0,l.wA)(),r=()=>{n((0,d.Oo)()),s()};return(0,u.jsx)("div",{className:"modal modal-open overflow-y-auto",children:(0,u.jsxs)("div",{className:"modal-box w-11/12 max-w-5xl h-auto p-6 relative bg-white shadow-lg rounded-lg",children:[(0,u.jsx)("div",{className:"absolute top-4 right-4 z-50",children:(0,u.jsx)("button",{className:"text-gray-500 hover:text-gray-700",onClick:r,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,u.jsxs)("div",{className:"bg-white p-4 mb-4 shadow rounded",children:[(0,u.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Info Dasar"}),(0,u.jsx)("table",{className:"w-full",children:(0,u.jsxs)("tbody",{className:"text-sm font-medium text-gray-700",children:[(0,u.jsxs)("tr",{className:"border-b",children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium",children:"Nama "}),(0,u.jsx)("td",{className:"py-2 px-4",children:a.nama})]}),(0,u.jsxs)("tr",{className:"border-b",children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium",children:"Jenis Kelamin "}),(0,u.jsx)("td",{className:"py-2 px-4",children:a.gender})]}),(0,u.jsxs)("tr",{className:"border-b",children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium",children:"Nomor Telepon "}),(0,u.jsx)("td",{className:"py-2 px-4",children:a.phoneNumber})]}),(0,u.jsxs)("tr",{className:"border-b ml-2",children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium",children:"Alamat Orang Tua "}),(0,u.jsx)("td",{className:"py-2 px-4  ",children:a.alamat})]}),(0,u.jsxs)("tr",{className:"border-b",children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium",children:"Pekerjaan "}),(0,u.jsx)("td",{className:"py-2 px-4 ",children:a.occupation})]})]})})]}),"\\",(0,u.jsx)("div",{className:"modal-action flex justify-center mt-6",children:(0,u.jsx)("button",{className:"btn btn-sm sm:btn-md border-black w-full sm:w-auto bg-blue-500 hover:bg-blue-600 text-white",onClick:r,children:"Close"})})]})})};var x=t(6709),j=t(896),p=t(7850),b=(t(6804),t(1774)),g=t.n(b);function f(){return(0,u.jsxs)("tr",{className:"animate-pulse",children:[(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto"})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mx-auto"})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto"})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"h-8 bg-gray-200 rounded w-full mx-auto"})})]})}const w=()=>{const{leads:e,loading:a,error:t}=(0,l.d4)((e=>e.lead)),n=(0,l.wA)(),[d,b]=(0,s.useState)(""),[w,N]=(0,s.useState)(1),[v,y]=(0,s.useState)(null),[k,C]=(0,s.useState)(!1),[L,A]=(0,s.useState)([]),[E,B]=(0,s.useState)({currentPage:1,perPage:10,total:0}),S=j.A.get("token"),T=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{console.log(`Fetching data for page ${e}`);const a=await x.A.get(`admin/parent?page=${e}`,{headers:{Authorization:`Bearer ${S}`}});A(a.data.data.data),console.log(a.data.data.data),B({currentPage:a.data.data.current_page,perPage:a.data.data.per_page,total:a.data.data.total})}catch(t){console.error("Error fetching data:",t)}};(0,s.useEffect)((()=>{T(w)}),[w]),(0,s.useEffect)((()=>{n((0,i.TW)())}),[n]);const $=Math.ceil(E.total/E.perPage),_=L.filter((e=>{var a,t;return(null===(a=e.users)||void 0===a||null===(t=a.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase()))||e.phoneNumber.toLowerCase().includes(d.toLowerCase())||e.alamat.toLowerCase().includes(d.toLowerCase())||e.nama.toLowerCase().includes(d.toLowerCase())}));return a?(0,u.jsx)("div",{children:"Loading..."}):t?(0,u.jsxs)("div",{children:["Error: ",t]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(o.A,{title:"Data Orang Tua",topMargin:"mt-2",TopSideButtons:(0,u.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center gap-2",children:(0,u.jsx)("input",{type:"text",className:"input input-bordered input-sm w-full sm:w-64",placeholder:"Search",value:d,onChange:e=>{b(e.target.value)}})}),children:[(0,u.jsx)("div",{className:"overflow-x-auto w-full",children:(0,u.jsxs)("table",{className:"table w-full text-center",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Nama"}),(0,u.jsx)("th",{children:"Nama Anak"}),(0,u.jsx)("th",{children:"Alamat"}),(0,u.jsx)("th",{children:"Nomor Telepon"})]})}),(0,u.jsx)("tbody",{className:"text-center",children:a?[...Array(8)].map(((e,a)=>(0,u.jsx)(f,{},a))):_.map((e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"font-bold",children:e.nama})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"font-bold",children:e.users?e.users.name:""})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"font-bold",children:e.alamat})}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"font-bold",children:e.phoneNumber})}),(0,u.jsxs)("td",{className:"flex space-x-0 w-32",children:[(0,u.jsx)("button",{className:"btn btn-ghost",onClick:()=>(e=>{y(e),C(!0)})(e),children:"Selengkapnya"}),(0,u.jsx)(r.N_,{to:`/app/data/orangtua/edit/${e.user_id}`,children:(0,u.jsx)("button",{className:"btn btn-square btn-ghost",children:(0,u.jsx)(m.A,{className:"w-5"})})}),(0,u.jsx)("button",{className:"btn btn-square btn-ghost",onClick:()=>(async e=>{try{const{isConfirmed:a}=await g().fire({title:"Yakin?",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus!"});a&&(await x.A.delete(`admin/users/${e}`,{headers:{Authorization:`Bearer ${S}`}}),p.oR.success("Data berhasil dihapus.",{position:"top-right",autoClose:4e3}),T())}catch(t){console.error("Error deleting lead:",t.response),p.oR.error("Gagal menghapus data.",{position:"top-right",autoClose:4e3})}})(e.user_id),children:(0,u.jsx)(c.A,{className:"w-5"})})]})]},e.id)))})]})}),(0,u.jsx)("div",{className:"flex justify-center mt-4 gap-2",children:(()=>{const e=[];for(let a=1;a<=$;a++)e.push((0,u.jsx)("button",{className:"btn btn-sm "+(a===w?"btn-active":""),onClick:()=>{N(a)},children:a},a));return e})()})]}),(0,u.jsx)(p.N9,{}),k&&(0,u.jsx)(h,{lead:v,onClose:()=>C(!1)})]})};const N=function(){const e=(0,l.wA)();return(0,s.useEffect)((()=>{e((0,n.wE)({title:"Data Orang Tua"}))}),[]),(0,u.jsx)(w,{})}},6804:()=>{},19:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(7565);function l(e,a){let{title:t,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},n),t?s.createElement("title",{id:l},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const n=s.forwardRef(l)},4424:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(7565);function l(e,a){let{title:t,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},n),t?s.createElement("title",{id:l},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const n=s.forwardRef(l)}}]);
//# sourceMappingURL=820.e7f771e0.chunk.js.map