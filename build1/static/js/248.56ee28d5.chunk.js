"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[248],{7248:(e,a,r)=>{r.r(a),r.d(a,{default:()=>u});var s=r(7565),o=r(1030),n=r(6709),t=r(896),l=r(1918),d=r(7929);const i=t.A.get("token"),u=()=>{const e=(0,o.Zp)(),[a,r]=(0,s.useState)([]),[t,u]=(0,s.useState)({username:"",name:"",password:"",password_confirmation:"",roles:"guru",no_hp:"",departemen_id:""}),c=e=>{const{name:a,value:r,type:s,files:o}=e.target;u((e=>({...e,[a]:"file"===s?o[0]:r})))};return(0,s.useEffect)((()=>{n.A.get("admin/departemen",{headers:{Authorization:`Bearer ${i}`}}).then((e=>{const a=e.data.data.data||[];r(Array.isArray(a)?a:[])}))}),[i]),(0,d.jsx)("div",{className:"container mx-auto my-10 px-4",children:(0,d.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Tambah Data Guru"}),(0,d.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Silakan isi form di bawah!"}),(0,d.jsxs)("form",{onSubmit:async a=>{a.preventDefault();try{const a=new FormData;Object.keys(t).forEach((e=>{a.append(e,t[e])})),console.log("Form Data:",t),await n.A.post("admin/users",a,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}}),l.oR.success("Teacher added successfully!",{position:"top-right",duration:4e3}),e("/app/data/guru")}catch(r){if(r.response){const e=r.response.data.errors;console.error("Error response data:",r.response.data),e?l.oR.error(`Failed to add teacher: ${Object.values(e)[0][0]}`,{position:"top-right",duration:4e3}):l.oR.error(`Failed to add teacher: ${r.response.data.message||"Please check the form fields."}`,{position:"top-right",duration:4e3})}else l.oR.error("Failed to add teacher.",{position:"top-right",duration:4e3})}},children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Nama"}),(0,d.jsx)("input",{type:"text",name:"name",value:t.name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Username"}),(0,d.jsx)("input",{type:"text",name:"username",value:t.username,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Password"}),(0,d.jsx)("input",{type:"text",name:"password",value:t.password,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Password Confirmation"}),(0,d.jsx)("input",{type:"text",name:"password_confirmation",value:t.password_confirmation,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"No Telephone"}),(0,d.jsx)("input",{type:"text",name:"no_hp",value:t.no_hp,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Jurusan"}),(0,d.jsxs)("select",{name:"departemen_id",value:t.departemen_id,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,children:[(0,d.jsx)("option",{value:"",children:"Pilih Jurusan"}),a.map((e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,d.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg",children:"Save"}),(0,d.jsx)("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg",onClick:()=>e("/app/data/guru"),children:"Cancel"})]})]})]})})}}}]);
//# sourceMappingURL=248.56ee28d5.chunk.js.map