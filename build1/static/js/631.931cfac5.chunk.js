"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[631],{4317:(e,o,r)=>{r.d(o,{A:()=>g});var a=r(7565),t=r(6400),s=r(9132),n=r(1795),l=r(754),d=(r(5963),r(9930)),i=r.n(d),u=r(3579),c=(r(7),r(7929));const b=new(i().Icon)({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41]}),m=e=>{let{setLatLng:o}=e;const[r,n]=(0,a.useState)(null);return(0,t.Po)({click(e){n(e.latlng),o(e.latlng)}}),null===r?null:(0,c.jsx)(s.p,{position:r,icon:b})},p=e=>{let{provider:o,setLatLng:r}=e;const s=(0,t.ko)();return(0,a.useEffect)((()=>{const e=new u.Vn({provider:o,style:"bar",autoClose:!0,retainZoomLevel:!1,searchLabel:"Enter address or place",keepResult:!0});return s.addControl(e),s.on("geosearch/showlocation",(function(e){const{x:o,y:a}=e.location;r({lat:a,lng:o})})),()=>s.removeControl(e)}),[s,o,r]),null},g=e=>{let{setLatLng:o}=e;const r=new u.F6;return(0,c.jsxs)(n.W,{center:[-2.5,118],zoom:5,style:{height:"300px",width:"100%"},children:[(0,c.jsx)(l.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),(0,c.jsx)(p,{provider:r,setLatLng:o}),(0,c.jsx)(m,{setLatLng:o})]})}},8110:(e,o,r)=>{r.r(o),r.d(o,{default:()=>c});var a=r(7565),t=r(1030),s=r(4317),n=r(6709),l=r(896),d=r(1918),i=r(7929);const u=l.A.get("token"),c=()=>{const e=(0,t.Zp)(),[o,r]=(0,a.useState)({name:"",username:"",password:"",password_confirmation:"",roles:"industri",bidang:"",alamat:"",longitude:"",latitude:"",industryMentorName:"",industryMentorNo:""}),l=e=>{const{name:o,value:a}=e.target;r((e=>({...e,[o]:a})))};return(0,i.jsx)("div",{className:"container mx-auto my-10 px-4",children:(0,i.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Tambah Data Industri"}),(0,i.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Silakan isi form di bawah!"}),(0,i.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{await n.A.post("admin/users",o,{headers:{Authorization:`Bearer ${u}`}}),d.oR.success("Lead added successfully!",{position:"top-right",duration:4e3}),e("/app/data/industri")}catch(a){if(a.response){const e=a.response.data.errors;if(e){for(const[o,r]of Object.entries(e))console.error(`Field: ${o}, Errors: ${r.join(", ")}`);d.oR.error(`Failed to add lead: ${Object.values(e)[0][0]}`,{position:"top-right",duration:4e3})}else d.oR.error(`Failed to add lead: ${a.response.data.message||"Please check the form fields."}`,{position:"top-right",duration:4e3})}else console.error("Error adding lead:",a),d.oR.error("Failed to add lead.",{position:"top-right",duration:4e3})}},children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Nama Industri"}),(0,i.jsx)("input",{type:"text",name:"name",value:o.name,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Username"}),(0,i.jsx)("input",{type:"text",name:"username",value:o.username,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Password"}),(0,i.jsx)("input",{type:"password",name:"password",value:o.password,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Password Confirmation"}),(0,i.jsx)("input",{type:"password",name:"password_confirmation",value:o.password_confirmation,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Roles"}),(0,i.jsx)("input",{type:"text",name:"roles",value:o.roles,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",readOnly:!0,required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Bidang"}),(0,i.jsx)("input",{type:"text",name:"bidang",value:o.bidang,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Alamat"}),(0,i.jsx)("input",{type:"text",name:"alamat",value:o.alamat,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Longitude"}),(0,i.jsx)("input",{type:"text",name:"longitude",value:o.longitude,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,readOnly:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Latitude"}),(0,i.jsx)("input",{type:"text",name:"latitude",value:o.latitude,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,readOnly:!0})]}),(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(s.A,{setLatLng:e=>{let{lat:o,lng:a}=e;r((e=>({...e,latitude:o,longitude:a})))}})}),(0,i.jsx)("button",{type:"button",className:"w-full px-4 py-2 text-white bg-green-500 hover:bg-green-700 rounded-lg mb-4",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:o,longitude:a}=e.coords;r((e=>({...e,latitude:o.toFixed(6),longitude:a.toFixed(6)}))),d.oR.success("Location added successfully!",{position:"top-right",duration:4e3})}),(e=>{console.error("Error fetching location:",e),d.oR.error("Failed to fetch location. Please enable location services.",{position:"top-right",duration:4e3})})):d.oR.error("Geolocation is not supported by this browser.",{position:"top-right",duration:4e3})},children:"Tambah lokasi dengan posisi anda saat ini"}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Pembimbing"}),(0,i.jsx)("input",{type:"text",name:"industryMentorName",value:o.industryMentorName,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"No Pembimbing"}),(0,i.jsx)("input",{type:"text",name:"industryMentorNo",value:o.industryMentorNo,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,i.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,i.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg",children:"Save"}),(0,i.jsx)("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg",onClick:()=>e("/app/data/industri"),children:"Cancel"})]})]})]})})}}}]);
//# sourceMappingURL=631.931cfac5.chunk.js.map