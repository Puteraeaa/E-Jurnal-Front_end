{"version":3,"file":"static/js/939.77918259.chunk.js","mappings":"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","sources":["features/settings/profilesettings/editProfile.jsx","pages/protected/EditProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { json, useNavigate, useParams } from 'react-router-dom';\nimport Api from '../../../api';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-hot-toast';\n\nconst token = Cookies.get('token');\n\nconst user = JSON.parse(Cookies.get(\"user\"));\nconsole.log('p',user);\n\nconst EditStudentPage = () => {\n    const navigate = useNavigate();\n    const [userId, setUserId] = useState(null);\n    const { id } = useParams(); // Extract the student ID from URL params\n\n    const [formData, setFormData] = useState({\n        user_id: \"\",\n        name: \"\",\n        nis: \"\",\n        placeOfBirth: \"\",\n        dateOfBirth: \"\",\n        gender: \"\",\n        bloodType: \"\",\n        alamat: \"\",\n        image: null,\n        classes_id: \"\",\n        industri_id: \"\",\n        departemen_id: \"\",\n        parents_id: \"\",\n        teacher_id: \"\",\n\n        \n    });\n\n    \n\n    const fetchStudentData = async () => {\n        const id = user.id;\n      \n        try {\n            const response = await Api.get(`admin/users/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            \n            const student = response.data.data.student;\n            setUserId(student.user_id)\n            console.log(student);\n            \n            setFormData({\n                user_id: student.user_id || \"\",\n                name: student.name || \"\",\n                nis: student.nis || \"\",\n                placeOfBirth: student.placeOfBirth || \"\",\n                dateOfBirth: student.dateOfBirth || \"\",\n                gender: student.gender || \"\",\n                bloodType: student.bloodType || \"\",\n                alamat: student.alamat || \"\",\n                image: null,\n                classes_id: student.classes_id || \"\",\n                industri_id: student.industri_id || \"\",\n                departemen_id: student.departemen_id || \"\",\n                parents_id: student.parents_id || \"\",\n                teacher_id: student.teacher_id || \"\",\n                roles : \"siswa\",\n            });\n        } catch (error) {\n            console.error(\"Error fetching student data:\", error);\n            toast.error(\"Failed to load student data.\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n        }\n    };\n\n    useEffect(() => {\n        fetchStudentData();\n    }, [id]);\n\n    const handleChange = (e) => {\n        const { name, value, type, files } = e.target;\n        setFormData((prevData) => ({\n            ...prevData,\n            [name]: type === 'file' ? files[0] : value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        const id = user.id;\n        e.preventDefault();\n    \n        // Log the form data before submitting\n        console.log(\"Form data to be submitted:\", formData);\n    \n        try {\n            await Api.put(`admin/users/${userId}`, formData, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n    \n            toast.success(\"Lead updated successfully!\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            navigate('/app/settings-profile');\n        } catch (error) {\n            if (error.response) {\n                console.error(\"Error response data:\", error.response.data);\n    \n                const errorMessages = error.response.data.errors;\n                if (errorMessages) {\n                    for (const [field, messages] of Object.entries(errorMessages)) {\n                        console.error(`Field: ${field}, Errors: ${messages.join(', ')}`);\n                    }\n                    toast.error(`Failed to update lead: ${Object.values(errorMessages)[0][0]}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                } else {\n                    toast.error(`Failed to update lead: ${error.response.data.message || 'Please check the form fields.'}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                }\n            } else {\n                console.error(\"Error updating lead:\", error);\n                toast.error(\"Failed to update lead.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n            }\n        }\n    };\n    \n\n  \n    \n\n   \n\n    return (\n        <div className=\"container mx-auto my-10 px-4\">\n            <div className=\"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500\">\n                <h1 className=\"text-3xl font-bold text-center mb-4\">Edit Data Siswa</h1>\n                <p className=\"text-center border-b pb-4 mb-4\">Silakan update form di bawah!</p>\n\n                <form onSubmit={handleSubmit}>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Nama Siswa</label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            value={formData.name}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">NIS</label>\n                        <input\n                            type=\"text\"\n                            name=\"nis\"\n                            value={formData.nis}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Tempat Lahir</label>\n                        <input\n                            type=\"text\"\n                            name=\"placeOfBirth\"\n                            value={formData.placeOfBirth}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Tanggal Lahir</label>\n                        <input\n                            type=\"date\"\n                            name=\"dateOfBirth\"\n                            value={formData.dateOfBirth}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Jenis Kelamin</label>\n                        <select\n                            name=\"gender\"\n                            value={formData.gender}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        >\n                            <option value=\"\">Pilih Jenis Kelamin</option>\n                            <option value=\"male\">Laki-Laki</option>\n                            <option value=\"female\">Perempuan</option>\n                        </select>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Golongan Darah</label>\n                        <select\n                            name=\"bloodType\"\n                            value={formData.bloodType}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        >\n                            <option value=\"\">Pilih Golongan Darah</option>\n                            <option value=\"A\">A</option>\n                            <option value=\"B\">B</option>\n                            <option value=\"AB\">AB</option>\n                            <option value=\"O\">O</option>\n                        </select>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Alamat</label>\n                        <textarea\n                            name=\"alamat\"\n                            value={formData.alamat}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n\n                    <button\n                        type=\"submit\"\n                        className=\"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:bg-blue-600\"\n                    >\n                        Update\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditStudentPage;\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { setPageTitle } from '../../features/common/headerSlice'\nimport ProfileSettings from '../../features/settings/profilesettings/editProfile'\n\nfunction InternalPage(){\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(setPageTitle({ title : \"Settings\"}))\n      }, [])\n\n\n    return(\n        <ProfileSettings />\n    )\n}\n\nexport default InternalPage"],"names":["token","Cookies","get","user","JSON","parse","console","log","EditStudentPage","navigate","useNavigate","userId","setUserId","useState","id","useParams","formData","setFormData","user_id","name","nis","placeOfBirth","dateOfBirth","gender","bloodType","alamat","image","classes_id","industri_id","departemen_id","parents_id","teacher_id","useEffect","async","student","Api","headers","Authorization","data","roles","error","toast","position","duration","fetchStudentData","handleChange","e","value","type","files","target","prevData","_jsx","className","children","_jsxs","onSubmit","preventDefault","put","success","response","errorMessages","errors","field","messages","Object","entries","join","values","message","onChange","required","dispatch","useDispatch","setPageTitle","title","ProfileSettings"],"sourceRoot":""}