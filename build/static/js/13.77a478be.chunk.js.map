{"version":3,"file":"static/js/13.77a478be.chunk.js","mappings":"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","sources":["features/leads/DataOrangTua/EditOrangTua.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Api from '../../../api';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-hot-toast';\n\nconst token = Cookies.get('token');\n\nconst EditParentPage = () => {\n    const navigate = useNavigate();\n    const { id } = useParams();\n    const [formData, setFormData] = useState({\n        username: \"\",\n        name: \"\",\n        nama: \"\",\n        roles: \"\",\n        gender: \"\",\n        alamat: \"\",\n        occupation: \"\",\n        phoneNumber: \"\",\n    });\n\n    const fetchParentData = async () => {\n        try {\n            const response = await Api.get(`admin/users/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            const user = response.data.data;\n            setFormData({\n                username: user.name || \"\",\n                name: user.parent ? user.parent.nama : \"\",\n                nama: user.parent ? user.parent.nama : \"\",\n                roles: user.roles ? user.roles.join(\", \") : \"\",\n                gender: user.parent ? user.parent.gender : \"\",\n                alamat: user.parent ? user.parent.alamat : \"\",\n                occupation: user.parent ? user.parent.occupation : \"\",\n                phoneNumber: user.parent ? user.parent.phoneNumber : \"\",\n            });\n        } catch (error) {\n            console.error(\"Error fetching parent data:\", error);\n            toast.error(\"Failed to load parent data.\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n        }\n    };\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData((prevData) => ({\n            ...prevData,\n            [name]: value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            await Api.put(`admin/users/${id}`, formData, {\n                headers: {\n                    Authorization: `Bearer ${token},`\n                },\n            });\n            toast.success(\"User data updated successfully!\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            navigate('/app/data/orangtua');\n        } catch (error) {\n            if (error.response) {\n                console.error(\"Error response data:\", error.response.data);\n\n                const errorMessages = error.response.data.errors;\n                if (errorMessages) {\n                    for (const [field, messages] of Object.entries(errorMessages)) {\n                        console.error(`Field: ${field}, Errors: ${messages.join(', ')}`);\n                    }\n                    toast.error(`Failed to update user data: ${Object.values(errorMessages)[0][0]}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                } else {\n                    toast.error(`Failed to update user data: ${error.response.data.message || 'Please check the form fields.'}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                }\n            } else {\n                console.error(\"Error updating user data:\", error);\n                toast.error(\"Failed to update user data.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n            }\n        }\n    };\n    \n    useEffect(() => {\n        fetchParentData();\n    }, [id]);\n    \n    return (\n        <div className=\"container mx-auto my-10 px-4\">\n            <div className=\"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500\">\n                <h1 className=\"text-3xl font-bold text-center mb-4\">Edit User Data</h1>\n                <p className=\"text-center border-b pb-4 mb-4\">Please update the form below!</p>\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Username</label>\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            value={formData.username}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\" hidden>\n                        <label className=\"block text-gray-700 font-bold mb-2\">Name</label>\n                        <input\n                            type=\"text\"\n                            name=\"nama\"\n                            value={formData.name}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n                    <div className=\"mb-4\" hid>\n                        <label className=\"block text-gray-700 font-bold mb-2\">Name</label>\n                        <input\n                            type=\"text\"\n                            name=\"nama\"\n                            value={formData.nama}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Roles</label>\n                        <input\n                            type=\"text\"\n                            name=\"roles\"\n                            value={formData.roles}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Gender</label>\n                        <select\n                            name=\"gender\"\n                            value={formData.gender}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        >\n                            <option value=\"\">Select Gender</option>\n                            <option value=\"laki\">Laki-laki</option>\n                            <option value=\"perempuan\">Perempuan</option>\n                        </select>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Address</label>\n                        <textarea\n                            name=\"alamat\"\n                            value={formData.alamat}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            rows=\"4\"\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Occupation</label>\n                        <input\n                            type=\"text\"\n                            name=\"occupation\"\n                            value={formData.occupation}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Phone Number</label>\n                        <input\n                            type=\"text\"\n                            name=\"phoneNumber\"\n                            value={formData.phoneNumber}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                        />\n                    </div>\n\n                    <div className=\"flex justify-between gap-2\">\n                        <button\n                            type=\"submit\"\n                            className=\"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg\"\n                        >\n                            Save\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg\"\n                            onClick={() => navigate('/app/data/oarngtua')}\n                        >\n                            Cancel\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditParentPage;"],"names":["token","Cookies","get","EditParentPage","navigate","useNavigate","id","useParams","formData","setFormData","useState","username","name","nama","roles","gender","alamat","occupation","phoneNumber","handleChange","e","value","target","prevData","useEffect","async","user","Api","headers","Authorization","data","parent","join","error","console","toast","position","duration","fetchParentData","_jsx","className","children","_jsxs","onSubmit","preventDefault","put","success","response","errorMessages","errors","field","messages","Object","entries","values","message","type","onChange","required","hidden","hid","rows","onClick"],"sourceRoot":""}