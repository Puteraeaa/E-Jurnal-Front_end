(self.webpackChunkE_Jurnal=self.webpackChunkE_Jurnal||[]).push([[727],{7318:function(e,t,r){var n=r(9439),o=r(2791),a=r(6293),l=r(6042),s=r(9961),i=r(7626),u=(r(3666),r(8559)),d=r.n(u),c=r(7549),b=(r(8117),r(184)),p=new(d().Icon)({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41]}),m=function(e){var t=e.setLatLng,r=(0,o.useState)(null),s=(0,n.Z)(r,2),i=s[0],u=s[1];return(0,a.zV)({click:function(e){u(e.latlng),t(e.latlng)}}),null===i?null:(0,b.jsx)(l.J,{position:i,icon:p})},g=function(e){var t=e.provider,r=e.setLatLng,n=(0,a.Sx)();return(0,o.useEffect)((function(){var e=new c.C1({provider:t,style:"bar",autoClose:!0,retainZoomLevel:!1,searchLabel:"Enter address or place",keepResult:!0});return n.addControl(e),n.on("geosearch/showlocation",(function(e){var t=e.location,n=t.x,o=t.y;r({lat:o,lng:n})})),function(){return n.removeControl(e)}}),[n,t,r]),null};t.Z=function(e){var t=e.setLatLng,r=new c.Zm();return(0,b.jsxs)(s.h,{center:[-2.5,118],zoom:5,style:{height:"300px",width:"100%"},children:[(0,b.jsx)(i.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),(0,b.jsx)(g,{provider:r,setLatLng:t}),(0,b.jsx)(m,{setLatLng:t})]})}},6409:function(e,t,r){r.r(t);var n=r(4942),o=r(1413),a=r(4165),l=r(5861),s=r(9439),i=r(2791),u=r(7689),d=r(7318),c=r(8057),b=r(8329),p=r(5218),m=r(184),g=b.Z.get("token");t.default=function(){var e=(0,u.s0)(),t=(0,u.UO)().id,r=(0,i.useState)({user_id:"",name:"",bidang:"",alamat:"",longitude:"",latitude:"",industryMentorName:"",industryMentorNo:""}),b=(0,s.Z)(r,2),f=b[0],x=b[1];(0,i.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("admin/industri/".concat(t),{headers:{Authorization:"Bearer ".concat(g)}});case 3:r=e.sent,console.log("Fetched lead data:",r.data),x(r.data.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching lead data:",e.t0),p.Am.error("Failed to load lead data.",{position:"top-right",duration:4e3});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var h=function(e){var t=e.target,r=t.name,a=t.value;x((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,n.Z)({},r,a))}))},y=function(){var r=(0,l.Z)((0,a.Z)().mark((function r(n){var o,l,i,u,d,b;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,r.next=4,c.Z.put("admin/industri/".concat(t),f,{headers:{Authorization:"Bearer ".concat(g)}});case 4:p.Am.success("Lead updated successfully!",{position:"top-right",duration:4e3}),e("/app/data/industri"),r.next=11;break;case 8:if(r.prev=8,r.t0=r.catch(1),r.t0.response)if(console.error("Error response data:",r.t0.response.data),o=r.t0.response.data.errors){for(l=0,i=Object.entries(o);l<i.length;l++)u=(0,s.Z)(i[l],2),d=u[0],b=u[1],console.error("Field: ".concat(d,", Errors: ").concat(b.join(", ")));p.Am.error("Failed to update lead: ".concat(Object.values(o)[0][0]),{position:"top-right",duration:4e3})}else p.Am.error("Failed to update lead: ".concat(r.t0.response.data.message||"Please check the form fields."),{position:"top-right",duration:4e3});else console.error("Error updating lead:",r.t0),p.Am.error("Failed to update lead.",{position:"top-right",duration:4e3});case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"container mx-auto my-10 px-4",children:(0,m.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Edit Data Industri"}),(0,m.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Silakan edit form di bawah!"}),(0,m.jsxs)("form",{onSubmit:y,children:[(0,m.jsxs)("div",{className:"mb-4 hidden",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"User ID"}),(0,m.jsx)("input",{type:"text",name:"user_id",value:f.user_id,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Nama Industri"}),(0,m.jsx)("input",{type:"text",name:"name",value:f.name,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Bidang"}),(0,m.jsx)("input",{type:"text",name:"bidang",value:f.bidang,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Alamat"}),(0,m.jsx)("input",{type:"text",name:"alamat",value:f.alamat,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Longitude"}),(0,m.jsx)("input",{type:"text",name:"longitude",value:f.longitude,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,readOnly:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Latitude"}),(0,m.jsx)("input",{type:"text",name:"latitude",value:f.latitude,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0,readOnly:!0})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(d.Z,{setLatLng:function(e){var t=e.lat,r=e.lng;x((function(e){return(0,o.Z)((0,o.Z)({},e),{},{latitude:t,longitude:r})}))}})}),(0,m.jsx)("button",{type:"button",className:"w-full px-4 py-2 text-white bg-green-500 hover:bg-green-700 rounded-lg mb-4",onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,r=t.latitude,n=t.longitude;x((function(e){return(0,o.Z)((0,o.Z)({},e),{},{latitude:r.toFixed(6),longitude:n.toFixed(6)})})),p.Am.success("Location updated successfully!",{position:"top-right",duration:4e3})}),(function(e){console.error("Error fetching location:",e),p.Am.error("Failed to fetch location. Please enable location services.",{position:"top-right",duration:4e3})})):p.Am.error("Geolocation is not supported by this browser.",{position:"top-right",duration:4e3})},children:"Tambah lokasi dengan posisi anda saat ini"}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Pembimbing"}),(0,m.jsx)("input",{type:"text",name:"industryMentorName",value:f.industryMentorName,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"No Pembimbing"}),(0,m.jsx)("input",{type:"text",name:"industryMentorNo",value:f.industryMentorNo,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,m.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,m.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg",children:"Save"}),(0,m.jsx)("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg",onClick:function(){return e("/app/data/industri")},children:"Cancel"})]})]})]})})}},5987:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(3366);function o(e,t){if(null==e)return{};var r,o,a=(0,n.Z)(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}}}]);
//# sourceMappingURL=727.630200d8.chunk.js.map