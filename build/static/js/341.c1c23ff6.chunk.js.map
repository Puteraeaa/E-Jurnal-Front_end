{"version":3,"file":"static/js/341.c1c23ff6.chunk.js","mappings":"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","sources":["features/Laporan/Index.jsx","pages/protected/Laporan/Laporan.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Api from \"../../api\"; // Adjust the path to your Api configuration\nimport Cookies from \"js-cookie\";\nimport hasAnyPermission from \"../../utils/Permissions\";\n\nfunction SkeletonRow() {\n  return (\n    <tr className=\"bg-gray-300 animate-pulse\">\n      <td className=\"p-4\">\n        <div className=\"bg-gray-400 h-6 w-32 rounded\"></div>\n      </td>\n      <td className=\"p-4\">\n        <div className=\"bg-gray-400 h-4 w-24 rounded\"></div>\n      </td>\n      <td className=\"p-4\">\n        <div className=\"bg-gray-400 h-4 w-24 rounded\"></div>\n      </td>\n      <td className=\"p-4\">\n        <div className=\"bg-gray-400 h-4 w-32 rounded\"></div>\n      </td>\n      <td className=\"p-4\">\n        <div className=\"bg-gray-400 h-4 w-32 rounded\"></div>\n      </td>\n    </tr>\n  );\n}\n\nfunction Index() {\n  const [attendanceRecords, setAttendanceRecords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedClass, setSelectedClass] = useState(\"\");\n  const [selectedDepartment, setSelectedDepartment] = useState(\"\");\n  const [classes, setClasses] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pagination, setPagination] = useState({\n      currentPage: 1,\n      perPage: 5, // Ensure itemsPerPage is consistent\n      total: 0\n  });\n  const [isModalOpen, setIsModalOpen] = useState(false); // Manage modal state\n\n  const token = Cookies.get(\"token\");\n  const user = JSON.parse(Cookies.get(\"user\"));\n  const navigate = useNavigate();\n\n  const extractPlainText = (htmlContent) => {\n    if (!htmlContent) return \"\"; // Return an empty string if htmlContent is undefined or null\n    return htmlContent.replace(/<\\/?[^>]+(>|$)/g, \"\");\n  };\n\n  const fetchClasses = async () => {\n    try {\n      const response = await Api.get(\"admin/classes\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setClasses(\n        Array.isArray(response.data.data.data) ? response.data.data.data : []\n      ); // Ensure it's an array\n    } catch (error) {}\n  };\n\n  const fetchDepartments = async () => {\n    try {\n      const response = await Api.get(\"admin/departemen\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setDepartments(\n        Array.isArray(response.data.data.data) ? response.data.data.data : []\n      );\n    } catch (error) {}\n  };\n\n  const fetchData = async () => {\n    const role = user.roles;\n    \n\n    try {\n      let response;\n      const params = new URLSearchParams({\n        search: searchQuery,\n        departemen_id: selectedDepartment,\n        classes_id: selectedClass,\n        page: currentPage\n      }).toString();\n\n      // Debugging log\n\n      if (role === \"siswa\") {\n        response = await Api.get(`admin/student-jurnal`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } else if (role === \"guru\") {\n        response = await Api.get(`admin/indexRole-jurnal?${params}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } else if (role === \"orang tua\") {\n        response = await Api.get(`admin/indexRole-jurnal?${params}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } else {\n        response = await Api.get(`admin/indexRole-jurnal?${params}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n\n      // Debugging log\n      setAttendanceRecords(response.data.data.data || []);  \n      setPagination({\n        currentPage: response.data.data.current_page,\n        perPage: response.data.data.per_page,\n        total: response.data.data.total\n    });\n    console.log(response.data.data);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n\n    }\n  };\n\n  useEffect(() => {\n    fetchClasses();\n    fetchDepartments();\n  }, []);\n\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [searchQuery, selectedClass, selectedDepartment, currentPage]);\n\n  const handleRowClick = (id) => {\n    navigate(`/app/detail-laporan/${id}`);\n  };\n\n  const totalPages = Math.ceil(pagination.total / pagination.perPage);\n\n  const handleClick = (pageNumber) => {\n      setCurrentPage(pageNumber);\n  };\n\n \n\n  const filteredLeads = attendanceRecords.filter(lead =>\n      lead.users.students?.name.toLowerCase().includes(searchTerm.toLowerCase()) \n  );\n  \n\n  const renderPagination = () => {\n    const pages = [];\n    const totalPages = Math.ceil(pagination.total / pagination.perPage);\n    \n    // Always show the first page\n    pages.push(\n      <button\n        key={1}\n        className={`join-item btn ${pagination.currentPage === 1 ? \"btn-active\" : \"\"}`}\n        onClick={() => handleClick(1)}\n      >\n        1\n      </button>\n    );\n  \n    // Show dots if needed\n    if (pagination.currentPage > 3) {\n      pages.push(\n        <button key=\"prev-ellipsis\" className=\"join-item btn btn-disabled\">...</button>\n      );\n    }\n  \n    // Show pages around the current page\n    const startPage = Math.max(2, pagination.currentPage - 1);\n    const endPage = Math.min(totalPages - 1, pagination.currentPage + 1);\n  \n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(\n        <button\n          key={i}\n          className={`join-item btn ${pagination.currentPage === i ? \"btn-active\" : \"\"}`}\n          onClick={() => handleClick(i)}\n        >\n          {i}\n        </button>\n      );\n    }\n  \n    // Show dots if needed\n    if (pagination.currentPage < totalPages - 2) {\n      pages.push(\n        <button key=\"next-ellipsis\" className=\"join-item btn btn-disabled\">...</button>\n      );\n    }\n  \n    // Always show the last page\n    if (totalPages > 1) {\n      pages.push(\n        <button\n          key={totalPages}\n          className={`join-item btn ${pagination.currentPage === totalPages ? \"btn-active\" : \"\"}`}\n          onClick={() => handleClick(totalPages)}\n        >\n          {totalPages}\n        </button>\n      );\n\n      return <>{pages}</>;\n    }\n  }\n\n\n  return (\n    <>\n    <div className=\"container mx-auto p-6\">\n      <div className=\"bg-white dark:bg-[#1c2229] shadow-md rounded-lg p-6 mb-6\">\n        <p className=\"border-b pb-2 font-bold text-xl md:text-4xl text-center\">\n          <i className=\"fas fa-chart-pie dark:text-white text-blue-600\"></i>{\" \"}\n          Jurnal Laporan Harian\n        </p>\n        <p className=\"text-gray-600 font-semibold mt-2 dark:text-white text-center text-xs md:text-base\">\n          Ini adalah laporan PKL yang dibuat oleh Siswa SMKN 1 Ciomas dari semua{\" \"}\n          <span className=\"font-bold\"></span> kejuruan.\n        </p>\n      </div>\n\n      <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n        <input\n          type=\"text\"\n          placeholder=\"Search\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"input w-full max-w-xs input-bordered h-9\"\n        />\n        {hasAnyPermission([\"siswa.delete\", \"penilaian.create\"]) && (\n          <button\n            onClick={() => document.getElementById(\"my_modal_3\").showModal()}\n            className=\"inline-block bg-blue-500 text-white text-sm font-semibold md:py-1 md:px-2 md:text-base py-1 px-2 rounded hover:bg-blue-600 transition-colors duration-300\"\n          >\n            <i className=\"fa-solid fa-filter\"></i> Filter\n          </button>\n        )}\n               {hasAnyPermission([\"murid.index\"]) && (\n        <Link\n          to=\"/app/laporan-pkl/tambah\"\n          className=\"inline-block bg-blue-500 text-white text-sm font-semibold md:py-1 md:px-2 md:text-base py-1 px-2 rounded hover:bg-blue-600 transition-colors duration-300\"\n        >\n          <i className=\"fa-solid fa-plus\"></i> Tambah Laporan\n        </Link>\n      )}\n      </div>\n\n      <dialog id=\"my_modal_3\" className=\"modal\">\n        <div className=\"modal-box\">\n          <form method=\"dialog\">\n            <button className=\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\">\n              ✕\n            </button>\n          </form>\n          <h3 className=\"font-bold text-lg\">Filter</h3>\n          <div className=\"mt-4 \">\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Kelas\n            </label>\n            <select\n              value={selectedClass}\n              onChange={(e) => setSelectedClass(e.target.value)}\n              className=\"select w-full max-w-xs input-bordered h-9\"\n            >\n              <option value=\"\">Pilih Kelas</option>\n              {classes.map((cls) => (\n                <option key={cls.id} value={cls.id}>\n                  {cls.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"mt-4\">\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n              Jurusan\n            </label>\n            <select\n              value={selectedDepartment}\n              onChange={(e) => setSelectedDepartment(e.target.value)}\n              className=\"select w-full max-w-xs input-bordered h-9 mb-4 text-gray-700 dark:text-gray-300\"\n            >\n              <option value=\"\">Pilih Jurusan</option>\n              {departments.map((dept) => (\n                <option key={dept.id} value={dept.id}>\n                  {dept.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </dialog>\n\n      <div className=\"overflow-x-auto mt-6\">\n        <table className=\"md:w-[100%] w-[400%]  divide-y divide-gray-200 \">\n          <thead className=\"bg-gray-100 dark:bg-gray-900 dark:text-white\">\n            <tr>\n              <th className=\"px-6 py-3 text-left  text-xs font-medium text-gray-500 dark:text-white uppercase tracking-wider=\">\n                Nama\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-white uppercase tracking-wider\">\n                Tempat PKL\n              </th>\n              <th className=\"px-6 py-3 text-left  text-xs font-medium text-gray-500 dark:text-white uppercase tracking-wider\">\n                Jurusan \n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-white uppercase tracking-wider\">\n                Tanggal\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-white uppercase tracking-wider\">\n                Deskripsi\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700\">\n            {loading ? (\n              Array(6)\n                .fill(0)\n                .map((_, index) => <SkeletonRow key={index} />)\n            ) : filteredLeads.length > 0 ? (\n              filteredLeads.map((record) => (\n                <tr\n                  key={record.id}\n                  className=\"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:bg-gray-800\"\n                  onClick={() => handleRowClick(record.id)}\n                >\n                  <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 w-[200px]\">\n                    <div className=\"flex items-center\">\n                      <img\n                         src={\n                          record.users?.students?.image && record.users.students?.image !== \"https://api.jurnal.pplgsmkn1ciomas.my.id/storage\"\n                            ? record.users.students.image\n                            : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\n                        }\n                        alt=\"Profile Mentor\"\n                        className=\"w-10 h-10 rounded-full border object-cover mr-3\"\n                      />\n                      <div>\n                        <div className=\"font-medium text-gray-900 dark:text-white w-[200px]\">\n                          {record.users.students?.name ?? \"-\"}\n                        </div>\n                        <div className=\"text-gray-500 dark:text-gray-400 text-xs\">\n                          {record.users?.students?.classes?.name ?? \"-\"}\n                        </div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white w-[200px]\">\n                    {record.users?.students?.industries?.name ?? \"-\"}\n                  </td>\n                  <td className=\"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white w-[200px]\">\n                    {record.users?.students?.departements?.name ?? \"-\"}\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 w-[130px]\">\n                    {record.date}\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400 truncate-multiline mb-3\">\n                    {extractPlainText(record.description)}\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td\n                  colSpan=\"5\"\n                  className=\"px-6 py-4 text-center text-gray-600 dark:text-white\"\n                >\n                  No records found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n     \n    </div>\n    <div className=\"flex justify-center mt-4 gap-2\">\n                    {renderPagination()}\n                </div>\n     </>\n  );\n}\n\nexport default Index;\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { setPageTitle } from '../../../features/common/headerSlice'\nimport Laporan from '../../../features/Laporan/Index'\n\nfunction InternalPage(){\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(setPageTitle({ title : \"Laporan\"}))\n      }, [])\n\n\n    return(\n        <Laporan />\n    )\n}\n\nexport default InternalPage"],"names":["SkeletonRow","_jsxs","className","children","_jsx","attendanceRecords","setAttendanceRecords","useState","loading","setLoading","searchQuery","setSearchQuery","selectedClass","setSelectedClass","selectedDepartment","setSelectedDepartment","classes","setClasses","departments","setDepartments","searchTerm","setSearchTerm","currentPage","setCurrentPage","pagination","setPagination","perPage","total","isModalOpen","setIsModalOpen","token","Cookies","get","user","JSON","parse","navigate","useNavigate","useEffect","async","response","Api","headers","Authorization","Array","isArray","data","error","fetchClasses","fetchDepartments","role","roles","params","URLSearchParams","search","departemen_id","classes_id","page","toString","current_page","per_page","console","log","fetchData","Math","ceil","handleClick","pageNumber","filteredLeads","filter","lead","_lead$users$students","users","students","name","toLowerCase","includes","_Fragment","type","placeholder","value","onChange","e","target","hasAnyPermission","onClick","document","getElementById","showModal","Link","to","id","method","map","cls","dept","fill","_","index","length","record","_record$users","_record$users$student","_record$users$student2","_record$users$student3","_record$users$student4","_record$users$student5","_record$users2","_record$users2$studen","_record$users2$studen2","_record$users$student6","_record$users3","_record$users3$studen","_record$users3$studen2","_record$users$student7","_record$users4","_record$users4$studen","_record$users4$studen2","htmlContent","handleRowClick","src","image","alt","industries","departements","date","description","replace","colSpan","renderPagination","pages","totalPages","push","startPage","max","endPage","min","i","dispatch","useDispatch","setPageTitle","title","Laporan"],"sourceRoot":""}