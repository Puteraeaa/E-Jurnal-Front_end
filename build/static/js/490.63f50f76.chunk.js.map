{"version":3,"file":"static/js/490.63f50f76.chunk.js","mappings":"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","sources":["api/index.jsx","features/user/Login.js","pages/Login.js","../node_modules/js-cookie/dist/js.cookie.mjs"],"sourcesContent":["import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst Api = axios.create({\r\n  baseURL: 'https://api.jurnal.pplgsmkn1ciomas.my.id/api/',\r\n  headers: {\r\n    \"Accept\": \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n  }\r\n});\r\n\r\nApi.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n  function (error) {\r\n    if (401 === error.response.status) {\r\n      Cookies.remove('token');\r\n      Cookies.remove('user');\r\n      Cookies.remove('permissions');\r\n      window.location = '/';\r\n    } else if (403 === error.response.status) {\r\n      window.location = '/app/blank';\r\n    } else {\r\n      return Promise.reject(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport default Api;\r\n","import React, { useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport toast from \"react-hot-toast\";\nimport Api from \"../../api\"; // Ensure Api is correctly configured\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isSubmitDisabled, setIsSubmitDisabled] = useState(false);\n  const navigate = useNavigate();\n\n  const login = async (e) => {\n    e.preventDefault();\n    setIsSubmitDisabled(true);\n\n    try {\n      const response = await Api.post(\"/login\", {\n        name: username,\n        password: password,\n      });\n\n      // Check if response is successful\n      if (response.status === 200) {\n        Cookies.set(\"token\", response.data.token);\n        Cookies.set(\"user\", JSON.stringify(response.data.user));\n        Cookies.set(\"permissions\", JSON.stringify(response.data.permissions));\n\n        toast.success(\"Login Successful!\", {\n          position: \"top-right\",\n          autoClose: 4000,\n        });\n\n        navigate(\"/app/dashboard\");\n      } else {\n        toast.error(\"Unexpected response status: \" + response.status, {\n          position: \"top-right\",\n          autoClose: 4000,\n        });\n      }\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || \"An error occurred\";\n      console.error(\"Error Response:\", errorMessage);\n      \n      toast.error(errorMessage, {\n        position: \"top-right\",\n        autoClose: 4000,\n      });\n    } finally {\n      setIsSubmitDisabled(false);\n    }\n  };\n\n  if (Cookies.get(\"token\")) {\n    navigate(\"/app/dashboard\");\n    return null; // Prevent rendering the login form if already logged in\n  }\n\n  return (\n    <div className=\"dark:bg-gray-800\">\n      <div className=\"flex justify-center h-screen\">\n        <div\n          className=\"hidden bg-cover lg:block lg:w-2/3\"\n          style={{ backgroundImage: \"linear-gradient(to right bottom, #3e7cda, #00a6dd, #4bc5ca, #a7ddc3, #eaf2d9)\" }}\n        >\n          <div className=\"flex items-center h-full px-20 bg-gray-900 bg-opacity-40\">\n            <div>\n              <h2 className=\"text-4xl font-bold text-white dark:text-white  \">\n                E-<span className=\"\">Jurnal</span>\n              </h2>\n              <p className=\"max-w-xl mt-3 text-gray-300\">\n              E-Jurnal PKL (Praktik Kerja Lapangan) di SMKN 1 Ciomas adalah sistem digital yang digunakan oleh siswa yang sedang melaksanakan PKL untuk mencatat dan melaporkan kegiatan harian mereka selama periode PKL. Sistem ini menggantikan jurnal manual yang biasanya digunakan oleh siswa.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center w-full max-w-md px-6 mx-auto lg:w-2/6\">\n          <div className=\"flex-1\">\n            <div className=\"text-center\">\n              <h2 className=\"text-4xl font-bold text-center text-dark dark:text-white \">\n                E-Jurnal\n              </h2>\n              <p className=\"mt-3 text-gray-500 dark:text-gray-300\">\n                Sign in to access your account\n              </p>\n            </div>\n\n            <div className=\"mt-8\">\n              <form onSubmit={login}>\n                <div>\n                  <label\n                    htmlFor=\"username\"\n                    className=\"block mb-2 text-sm text-gray-600 dark:text-gray-200\"\n                  >\n                    Username\n                  </label>\n                  <input\n                    type=\"text\" // Changed type from \"username\" to \"text\"\n                    name=\"username\"\n                    id=\"username\"\n                    placeholder=\"Your Username\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    className=\"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40\"\n                  />\n                </div>\n\n                <div className=\"mt-6\">\n                  <div className=\"flex justify-between mb-2\">\n                    <label\n                      htmlFor=\"password\"\n                      className=\"text-sm text-gray-600 dark:text-gray-200\"\n                    >\n                      Password\n                    </label>\n                  </div>\n\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Your Password\"\n                    className=\"block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40\"\n                  />\n                </div>\n\n                <div className=\"mt-6\">\n                  <button\n                    type=\"submit\"\n                    className=\"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-blue-500 rounded-md hover:bg-blue-400 focus:outline-none focus:bg-blue-400 focus:ring focus:ring-blue-300 focus:ring-opacity-50\"\n                    disabled={isSubmitDisabled}\n                  >\n                    Sign in\n                  </button>\n                  <Link\n                    to=\"/forgot-password\"\n                    className=\"text-sm text-gray-400 focus:text-blue-500 hover:text-blue-500 hover:underline mt-3\"\n                  >\n                    Forgot Password\n                  </Link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import {useState, useRef} from 'react'\nimport {Link} from 'react-router-dom'\nimport Login from '../features/user/Login'\n\nfunction ExternalPage(){\n\n\n    return(\n        <div className=\"\">\n                <Login />\n        </div>\n    )\n}\n\nexport default ExternalPage","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n"],"names":["Api","axios","baseURL","headers","interceptors","response","use","error","status","Cookies","window","location","Promise","reject","useState","username","setUsername","password","setPassword","isSubmitDisabled","setIsSubmitDisabled","navigate","useNavigate","login","e","preventDefault","name","data","token","JSON","stringify","user","permissions","toast","position","autoClose","errorMessage","message","console","className","style","backgroundImage","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","disabled","to","assign","i","arguments","length","source","key","api","init","converter","defaultAttributes","set","attributes","document","expires","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","Object","create","get","cookies","jar","parts","slice","join","found","read","remove","withAttributes","this","withConverter","freeze","path"],"sourceRoot":""}