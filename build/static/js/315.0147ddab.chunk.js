"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[315],{4179:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(7929);const s=function(e){let{styleClass:t,children:a}=e;return(0,n.jsx)("div",{className:`text-xl font-semibold ${t}`,children:a})};const r=function(e){let{title:t,children:a,topMargin:r,TopSideButtons:l}=e;return(0,n.jsxs)("div",{className:"card w-full p-6 bg-base-100 shadow-xl "+(r||"mt-6"),children:[(0,n.jsxs)(s,{styleClass:l?"inline-block":"",children:[t,l&&(0,n.jsx)("div",{className:"inline-block float-right",children:l})]}),(0,n.jsx)("div",{className:"divider mt-2"}),(0,n.jsx)("div",{className:"h-full w-full pb-6 bg-base-100",children:a})]})}},9351:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var n=a(7565),s=a(3292),r=a(4963),l=a(477),i=a(4179),o=a(6709),d=a(4424),c=a(19),m=a(896),u=a(7850),h=(a(6804),a(1774)),p=a.n(h);const x=a.p+"static/media/Template import-industri.3cf61fb4097322d54cde.xlsx";var b=a(7929);const f=()=>{const{leads:e,loading:t,error:a}=(0,s.d4)((e=>e.lead)),[r,h]=((0,s.wA)(),(0,n.useState)("")),[f,j]=(0,n.useState)(1),[g,w]=(0,n.useState)(null),[N,y]=(0,n.useState)(!1),[v,C]=(0,n.useState)([]),[k,A]=(0,n.useState)({currentPage:1,perPage:10,total:0}),E=m.A.get("token"),L=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{const t=await o.A.get(`admin/industri?page=${e}`,{headers:{Authorization:`Bearer ${E}`}});C(t.data.data.data),A({currentPage:t.data.data.current_page,perPage:t.data.data.per_page,total:t.data.data.total})}catch(a){console.error("Error fetching data:",a)}};(0,n.useEffect)((()=>{L(f)}),[f]);const B=Math.ceil(k.total/k.perPage),_=v.filter((e=>e.name.toLowerCase().includes(r.toLowerCase())||e.industryMentorName.toLowerCase().includes(r.toLowerCase())||e.alamat.toLowerCase().includes(r.toLowerCase())));return t?(0,b.jsx)("div",{children:"Loading..."}):a?(0,b.jsxs)("div",{children:["Error: ",a]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(i.A,{title:"Data Industri",topMargin:"mt-2",TopSideButtons:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center gap-2",children:[(0,b.jsx)("input",{type:"text",className:"input input-bordered input-sm w-full sm:w-64",placeholder:"Search",value:r,onChange:e=>{h(e.target.value),j(1)}}),(0,b.jsx)(l.N_,{to:"/app/data/industri/tambah",children:(0,b.jsx)("button",{className:"btn btn-sm normal-case btn-primary w-full sm:w-auto",children:"Add New"})}),(0,b.jsx)("button",{className:"btn btn-sm normal-case btn-primary w-full sm:w-auto",onClick:()=>document.getElementById("my_modal_5").showModal(),children:"Import Excel"})]}),children:[(0,b.jsx)("div",{className:"overflow-x-auto w-full",children:(0,b.jsxs)("table",{className:"table w-[150%] md:w-full text-center",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Nama"}),(0,b.jsx)("th",{children:"Bidang"}),(0,b.jsx)("th",{children:"Alamat"}),(0,b.jsx)("th",{children:"Pembimbing"}),(0,b.jsx)("th",{className:"text-center col-6",children:"No Pembimbing"}),(0,b.jsx)("th",{className:"text-center col-6",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"text-center",children:_.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"font-bold",children:e.name})}),(0,b.jsx)("td",{children:e.bidang}),(0,b.jsx)("td",{children:e.alamat}),(0,b.jsx)("td",{children:e.industryMentorName}),(0,b.jsx)("td",{children:e.industryMentorNo}),(0,b.jsxs)("td",{className:"flex justify-center space-x-2 sm:space-x-4",children:[(0,b.jsx)(l.N_,{to:`/app/data/industri/edit/${e.user_id}`,children:(0,b.jsx)("button",{className:"btn btn-sm btn-square btn-primary",children:(0,b.jsx)(c.A,{className:"h-4 w-4"})})}),(0,b.jsx)("button",{className:"btn btn-sm btn-square btn-error",onClick:()=>(async e=>{try{const{isConfirmed:t}=await p().fire({title:"Yakin?",text:"Apakah Anda yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus!"});if(t){const t=await o.A.delete(`admin/users/${e}`,{headers:{Authorization:`Bearer ${E}`}});u.oR.success(t.data.message,{position:"top-right",duration:4e3}),L(f)}}catch(a){console.error("Error deleting lead:",a),u.oR.error("Failed to delete lead.",{position:"top-right",duration:4e3})}})(e.user_id),children:(0,b.jsx)(d.A,{className:"h-4 w-4"})})]})]},e.id)))})]})}),(0,b.jsx)("div",{className:"flex justify-center mt-4 gap-2",children:(()=>{const e=[];for(let t=1;t<=B;t++)e.push((0,b.jsx)("button",{className:"btn btn-sm "+(t===f?"btn-active":""),onClick:()=>{j(t)},children:t},t));return e})()})]}),(0,b.jsx)(u.N9,{}),(0,b.jsx)("dialog",{id:"my_modal_5",className:"modal",children:(0,b.jsxs)("form",{method:"dialog",className:"modal-box",children:[(0,b.jsx)("h3",{className:"font-bold text-lg",children:"Upload Excel Siswa"}),(0,b.jsx)("p",{className:"py-4",children:"Silahkan upload file Excel siswa pada field di bawah ini."}),(0,b.jsx)("button",{className:"btn btn-sm",onClick:()=>{const e=document.createElement("a");e.href=x,e.setAttribute("download","Template import-industri.xlsx"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:"Download Template"}),(0,b.jsx)("input",{type:"file",onChange:e=>{w(e.target.files[0])}}),(0,b.jsx)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:async()=>{if(!g)return void u.oR.error("No file selected.",{position:"top-right",duration:4e3});const e=new FormData;e.append("file",g),y(!0);try{await o.A.post("/admin/import",e,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"multipart/form-data"}});u.oR.success("File uploaded successfully!",{position:"top-right",duration:4e3}),L(f)}catch(a){console.error("Error uploading file:",a),u.oR.error("Failed to upload file.",{position:"top-right",duration:4e3})}finally{y(!1),w(null)}},disabled:N,children:N?"Uploading...":"Upload"})]})})]})};const j=function(){const e=(0,s.wA)();return(0,n.useEffect)((()=>{e((0,r.wE)({title:"Data Industri"}))}),[]),(0,b.jsx)(f,{})}},6804:()=>{},19:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(7565);function s(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const r=n.forwardRef(s)},4424:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(7565);function s(e,t){let{title:a,titleId:s,...r}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),a?n.createElement("title",{id:s},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const r=n.forwardRef(s)}}]);
//# sourceMappingURL=315.0147ddab.chunk.js.map