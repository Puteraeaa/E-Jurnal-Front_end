{"version":3,"file":"static/js/939.5da5a2a8.chunk.js","mappings":"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","sources":["features/settings/profilesettings/editProfile.jsx","pages/protected/EditProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { json, useNavigate, useParams } from 'react-router-dom';\nimport Api from '../../../api';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-hot-toast';\n\nconst token = Cookies.get('token');\n\nconst user = JSON.parse(Cookies.get(\"user\"));\n\nconst EditStudentPage = () => {\n    const navigate = useNavigate();\n    const [userId, setUserId] = useState(null);\n    const { id } = useParams(); // Extract the student ID from URL params\n\n    const [formData, setFormData] = useState({\n        user_id: \"\",\n        name: \"\",\n        username: \"\",\n        password: \"\",\n        password_confirmation: \"\",\n        nis: \"\",\n        placeOfBirth: \"\",\n        dateOfBirth: \"\",\n        gender: \"\",\n        bloodType: \"\",\n        alamat: \"\",\n        image: null,\n        classes_id: \"\",\n        industri_id: \"\",\n        departemen_id: \"\",\n        parents_id: \"\",\n        teacher_id: \"\",\n        roles : \"siswa\",\n\n        \n    });\n\n    \n\n    const fetchStudentData = async () => {\n        const id = user.id;\n      \n        try {\n            const response = await Api.get(`admin/users/${id}`, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            \n            const student = response.data.data.student;\n            setUserId(student.user_id)\n\n            \n            setFormData({\n                user_id: student.user_id || \"\",\n                username: response.data.data.name|| \"\",\n                password: \"\",\n                password_confirmation: \"\",  \n                name: student.name,\n                nis: student.nis || \"\",\n                placeOfBirth: student.placeOfBirth || \"\",\n                dateOfBirth: student.dateOfBirth || \"\",\n                gender: student.gender || \"\",\n                bloodType: student.bloodType || \"\",\n                alamat: student.alamat || \"\",\n                image: null,\n                classes_id: student.classes_id || \"\",\n                industri_id: student.industri_id || \"\",\n                departemen_id: student.departemen_id || \"\",\n                parents_id: student.parents_id || \"\",\n                teacher_id: student.teacher_id || \"\",\n                roles : \"siswa\",\n            });\n        } catch (error) {\n            console.error(\"Error fetching student data:\", error);\n            toast.error(\"Failed to load student data.\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n        }\n    };\n\n    useEffect(() => {\n        fetchStudentData();\n    }, [id]);\n\n    const handleChange = (e) => {\n        const { name, value, type, files } = e.target;\n        setFormData((prevData) => ({\n            ...prevData,\n            [name]: type === 'file' ? files[0] : value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        const id = user.id;\n        e.preventDefault();\n\n\n        if (formData.password && !formData.password_confirmation) {\n            toast.error(\"Konfirmasi password wajib diisi jika Anda mengisi password.\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            return;\n        }\n\n        try {\n            await Api.put(`admin/users/${userId}`, formData, {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n    \n            toast.success(\"Lead updated successfully!\", {\n                position: \"top-right\",\n                duration: 4000,\n            });\n            navigate('/app/settings-profile');\n        } catch (error) {\n            if (error.response) {\n                \n    \n                const errorMessages = error.response.data.errors;\n                if (errorMessages) {\n                    for (const [field, messages] of Object.entries(errorMessages)) {\n                    }\n                    toast.error(`Failed to update lead: ${Object.values(errorMessages)[0][0]}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                    console.error(\"Error response data:\", error.response.data);\n                } else {\n                    toast.error(`Failed to update lead: ${error.response.data.message || 'Please check the form fields.'}`, {\n                        position: \"top-right\",\n                        duration: 4000,\n                    });\n                    \n                }\n            } else {\n                toast.error(\"Failed to update lead.\", {\n                    position: \"top-right\",\n                    duration: 4000,\n                });\n                \n            }\n        }\n    };\n    \n\n  \n    \n\n   \n\n    return (\n        <div className=\"container mx-auto my-10 px-4\">\n            <div className=\"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500\">\n                <h1 className=\"text-3xl font-bold text-center mb-4\">Edit Data Siswa</h1>\n                <p className=\"text-center border-b pb-4 mb-4\">Silakan update form di bawah!</p>\n\n                <form onSubmit={handleSubmit}>\n\n                <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Username Siswa</label>\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            value={formData.username}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n    <label className=\"block text-gray-700 font-bold mb-2\">Password Siswa </label>\n    <input\n        type=\"password\"\n        name=\"password\"\n        value={formData.password}\n        onChange={handleChange}\n        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n    />\n</div>\n\n<div className=\"mb-4\">\n    <label className=\"block text-gray-700 font-bold mb-2\">Konfirmasi Password</label>\n    <input\n        type=\"password\"\n        name=\"password_confirmation\"\n        value={formData.password_confirmation}\n        onChange={handleChange}\n        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n        required={formData.password ? true : false} // Required hanya jika password terisi\n    />\n</div>\n\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Nama Siswa</label>\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            value={formData.name}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">NIS</label>\n                        <input\n                            type=\"text\"\n                            name=\"nis\"\n                            value={formData.nis}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Tempat Lahir</label>\n                        <input\n                            type=\"text\"\n                            name=\"placeOfBirth\"\n                            value={formData.placeOfBirth}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Tanggal Lahir</label>\n                        <input\n                            type=\"date\"\n                            name=\"dateOfBirth\"\n                            value={formData.dateOfBirth}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Jenis Kelamin</label>\n                        <select\n                            name=\"gender\"\n                            value={formData.gender}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        >\n                            <option value=\"\">Pilih Jenis Kelamin</option>\n                            <option value=\"male\">Laki-Laki</option>\n                            <option value=\"female\">Perempuan</option>\n                        </select>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Golongan Darah</label>\n                        <select\n                            name=\"bloodType\"\n                            value={formData.bloodType}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        >\n                            <option value=\"\">Pilih Golongan Darah</option>\n                            <option value=\"A\">A</option>\n                            <option value=\"B\">B</option>\n                            <option value=\"AB\">AB</option>\n                            <option value=\"O\">O</option>\n                        </select>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <label className=\"block text-gray-700 font-bold mb-2\">Alamat</label>\n                        <textarea\n                            name=\"alamat\"\n                            value={formData.alamat}\n                            onChange={handleChange}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                            required\n                        />\n                    </div>\n\n\n                    <button\n                        type=\"submit\"\n                        className=\"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:bg-blue-600\"\n                    >\n                        Update\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default EditStudentPage;\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { setPageTitle } from '../../features/common/headerSlice'\nimport ProfileSettings from '../../features/settings/profilesettings/editProfile'\n\nfunction InternalPage(){\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(setPageTitle({ title : \"Settings\"}))\n      }, [])\n\n\n    return(\n        <ProfileSettings />\n    )\n}\n\nexport default InternalPage"],"names":["token","Cookies","get","user","JSON","parse","EditStudentPage","navigate","useNavigate","userId","setUserId","useState","id","useParams","formData","setFormData","user_id","name","username","password","password_confirmation","nis","placeOfBirth","dateOfBirth","gender","bloodType","alamat","image","classes_id","industri_id","departemen_id","parents_id","teacher_id","roles","useEffect","async","response","Api","headers","Authorization","student","data","error","console","toast","position","duration","fetchStudentData","handleChange","e","value","type","files","target","prevData","_jsx","className","children","_jsxs","onSubmit","preventDefault","put","success","errorMessages","errors","field","messages","Object","entries","values","message","onChange","required","dispatch","useDispatch","setPageTitle","title","ProfileSettings"],"sourceRoot":""}