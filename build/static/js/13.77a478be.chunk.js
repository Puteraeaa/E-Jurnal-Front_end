"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[13],{9013:(e,a,r)=>{r.r(a),r.d(a,{default:()=>c});var o=r(7565),n=r(1030),s=r(6709),t=r(896),l=r(1918),d=r(7929);const u=t.A.get("token"),c=()=>{const e=(0,n.Zp)(),{id:a}=(0,n.g)(),[r,t]=(0,o.useState)({username:"",name:"",nama:"",roles:"",gender:"",alamat:"",occupation:"",phoneNumber:""}),c=e=>{const{name:a,value:r}=e.target;t((e=>({...e,[a]:r})))};return(0,o.useEffect)((()=>{(async()=>{try{const e=(await s.A.get(`admin/users/${a}`,{headers:{Authorization:`Bearer ${u}`}})).data.data;t({username:e.name||"",name:e.parent?e.parent.nama:"",nama:e.parent?e.parent.nama:"",roles:e.roles?e.roles.join(", "):"",gender:e.parent?e.parent.gender:"",alamat:e.parent?e.parent.alamat:"",occupation:e.parent?e.parent.occupation:"",phoneNumber:e.parent?e.parent.phoneNumber:""})}catch(e){console.error("Error fetching parent data:",e),l.oR.error("Failed to load parent data.",{position:"top-right",duration:4e3})}})()}),[a]),(0,d.jsx)("div",{className:"container mx-auto my-10 px-4",children:(0,d.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Edit User Data"}),(0,d.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Please update the form below!"}),(0,d.jsxs)("form",{onSubmit:async o=>{o.preventDefault();try{await s.A.put(`admin/users/${a}`,r,{headers:{Authorization:`Bearer ${u},`}}),l.oR.success("User data updated successfully!",{position:"top-right",duration:4e3}),e("/app/data/orangtua")}catch(n){if(n.response){console.error("Error response data:",n.response.data);const e=n.response.data.errors;if(e){for(const[a,r]of Object.entries(e))console.error(`Field: ${a}, Errors: ${r.join(", ")}`);l.oR.error(`Failed to update user data: ${Object.values(e)[0][0]}`,{position:"top-right",duration:4e3})}else l.oR.error(`Failed to update user data: ${n.response.data.message||"Please check the form fields."}`,{position:"top-right",duration:4e3})}else console.error("Error updating user data:",n),l.oR.error("Failed to update user data.",{position:"top-right",duration:4e3})}},children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Username"}),(0,d.jsx)("input",{type:"text",name:"username",value:r.username,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",hidden:!0,children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Name"}),(0,d.jsx)("input",{type:"text",name:"nama",value:r.name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",hid:!0,children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Name"}),(0,d.jsx)("input",{type:"text",name:"nama",value:r.nama,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Roles"}),(0,d.jsx)("input",{type:"text",name:"roles",value:r.roles,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Gender"}),(0,d.jsxs)("select",{name:"gender",value:r.gender,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",children:[(0,d.jsx)("option",{value:"",children:"Select Gender"}),(0,d.jsx)("option",{value:"laki",children:"Laki-laki"}),(0,d.jsx)("option",{value:"perempuan",children:"Perempuan"})]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Address"}),(0,d.jsx)("textarea",{name:"alamat",value:r.alamat,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",rows:"4"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Occupation"}),(0,d.jsx)("input",{type:"text",name:"occupation",value:r.occupation,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Phone Number"}),(0,d.jsx)("input",{type:"text",name:"phoneNumber",value:r.phoneNumber,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,d.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 hover:bg-blue-700 rounded-lg",children:"Save"}),(0,d.jsx)("button",{type:"button",className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg",onClick:()=>e("/app/data/oarngtua"),children:"Cancel"})]})]})]})})}}}]);
//# sourceMappingURL=13.77a478be.chunk.js.map