"use strict";(self.webpackChunke_jurnal=self.webpackChunke_jurnal||[]).push([[889],{2889:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(7565),r=t(1030),l=t(5041),n=t.n(l),i=(t(3422),t(6709)),o=t(896),d=t(1774),c=t.n(d),u=t(1918),m=t(7929);function b(){document.title="Create User - NewsApp Administrator";const e=(0,r.Zp)(),[a,t]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[b,p]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),[N,v]=(0,s.useState)(null),[k,w]=(0,s.useState)({}),[C,S]=(0,s.useState)(!1),A=o.A.get("token");return(0,m.jsx)("div",{className:"container mx-auto my-10",children:(0,m.jsx)("div",{className:"flex flex-col",children:(0,m.jsxs)("div",{className:"dark:bg-gray-800 bg-white shadow-lg rounded-lg p-6 border-t-4 border-blue-500",children:[(0,m.jsx)("h1",{className:"text-3xl font-bold text-center mb-4",children:"Tambah Laporan Kegiatan PKL"}),(0,m.jsx)("p",{className:"text-center border-b pb-4 mb-4",children:"Silakan isi form di bawah!"}),(0,m.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const s={};if(a.length<150&&(s.deskripsi=["Deskripsi harus terdiri dari minimal 150 karakter"]),l||(s.tanggal=["Tanggal Wajib diisi"]),g||(s.start_time=["Start Time Wajib diisi"]),h||(s.end_time=["End Time Wajib diisi"]),j||(s.tools=["Alat yang Digunakan Wajib diisi"]),Object.keys(s).length>0)w(s);else{S(!0);try{if((await c().fire({title:"Tambah Jurnal Harian",text:"Apakah Anda yakin ingin Menambahkan jurnal harian?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Tambah!"})).isConfirmed){const t=new FormData;t.append("description",a),t.append("start_time",g),t.append("end_time",h),t.append("tools",j),t.append("date",l),N&&t.append("image",N),await i.A.post("admin/jurnal",t,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}}),u.Ay.success("Program updated successfully!",{position:"top-right",duration:4e3}),e("/app/laporan-pkl")}}catch(r){u.Ay.error("Failed to update program. Please try again later.",{position:"top-right",duration:4e3})}finally{S(!1)}}},children:[(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Deskripsi Laporan"}),(0,m.jsx)(n(),{value:a,onChange:t,className:"bg-white border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",theme:"snow",placeholder:"Describe your activity..."}),k.deskripsi&&(0,m.jsx)("div",{className:"text-red-600 mt-2",children:k.deskripsi[0]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Image (optional)"}),(0,m.jsx)("input",{type:"file",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",onChange:e=>v(e.target.files[0])})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Alat Yang Digunakan"}),(0,m.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",value:j,onChange:e=>y(e.target.value),placeholder:"Enter tools used"}),k.tools&&(0,m.jsx)("div",{className:"text-red-600 mt-2",children:k.tools[0]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Tanggal Laporan"}),(0,m.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",value:l,onChange:e=>d(e.target.value)}),k.tanggal&&(0,m.jsx)("div",{className:"text-red-600 mt-2 p-1 rounded-lg",children:k.tanggal[0]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Start Time"}),(0,m.jsx)("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",value:g,onChange:e=>x(e.target.value)}),k.start_time&&(0,m.jsx)("div",{className:"text-red-600 mt-2",children:k.start_time[0]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"End Time"}),(0,m.jsx)("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",value:h,onChange:e=>f(e.target.value)}),k.end_time&&(0,m.jsx)("div",{className:"text-red-600 mt-2",children:k.end_time[0]})]}),(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:(0,m.jsx)("button",{type:"submit",className:`w-full px-4 py-2 text-white ${C?"bg-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-700"} rounded-lg`,disabled:C,children:C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"})," Loading..."]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("i",{className:"fa fa-save mr-2"})," Simpan"]})})})})]})]})})})}}}]);
//# sourceMappingURL=889.4c799f1e.chunk.js.map